<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Shark Senate Voting Booth</title>

<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<!-- Chart.js Data Labels Plugin -->
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0/dist/chartjs-plugin-datalabels.min.js"></script>

<style>
  body {
    font-family: Arial, sans-serif;
    background: #fdf6e3;
    padding: 20px;
  }
  h1, h2 {
    text-align: center;
    color: #b03060;
  }
  .candidates {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin: 20px 0;
    flex-wrap: wrap;
  }
  .candidate {
    background: #ffffff;
    border-radius: 12px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    padding: 15px;
    width: 250px;
    text-align: center;
  }
  .candidate img {
    max-width: 100%;
    height: auto;
    border-radius: 8px;
    margin-bottom: 10px;
  }
  .candidate button {
    font-size: 1em;
    padding: 10px 20px;
    margin-top: 10px;
    border: none;
    border-radius: 12px;
    cursor: pointer;
    background: #268bd2;
    color: white;
    transition: background 0.3s;
  }
  .candidate button:hover {
    background: #1864ab;
  }
  #resetBtn {
    background: #dc3545;
  }
  #resetBtn:hover {
    background: #a71d2a;
  }
  .reset-container {
    text-align: center;
    margin-top: 20px;
  }
  canvas {
    max-width: 600px;
    margin: 20px auto;
    display: block;
  }
  /* Toast Popup */
  #toast {
    visibility: hidden;
    min-width: 300px;
    max-width: 400px;
    background-color: #333;
    color: #fff;
    text-align: center;
    border-radius: 12px;
    padding: 20px 25px;
    position: fixed;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    font-size: 20px;
    z-index: 1000;
    opacity: 0;
    transition: opacity 0.5s, transform 0.5s;
    box-shadow: 0 8px 20px rgba(0,0,0,0.3);
  }
  #toast.show {
    visibility: visible;
    opacity: 1;
    transform: translate(-50%, -50%) scale(1.05);
  }
</style>
</head>
<body>
<h1>Shark Senate Voting Booth</h1>
<p style="text-align:center;">Cast your vote for your favorite Sesame Street candidate:</p>

<div class="candidates">
  <!-- Bert -->
  <div class="candidate">
    <img src="bert.jpg" alt="Bert">
    <h3>Bert</h3>
    <ul style="text-align:left;">
      <li>All pizzas should have pineapple</li>
      <li>Loves pigeons and oatmeal</li>
      <li>Supports tidy rooms and good habits</li>
      <li>Wants more time for reading</li>
    </ul>
    <button onclick="castVote('Bert')">Vote for Bert</button>
  </div>

  <!-- Ernie -->
  <div class="candidate">
    <img src="ernie.webp" alt="Ernie">
    <h3>Ernie</h3>
    <ul style="text-align:left;">
      <li>Hot dogs are sandwiches</li>
      <li>Advocates for fun and creativity</li>
      <li>Supports rubber duckies everywhere</li>
      <li>Wants to reduce bedtime rules</li>
    </ul>
    <button onclick="castVote('Ernie')">Vote for Ernie</button>
  </div>

  <!-- The Count -->
  <div class="candidate">
    <img src=Count_von_Count_kneeling.png" alt="The Count">
    <h3>The Count</h3>
    <ul style="text-align:left;">
      <li>Wants to count every step you take daily</li>
      <li>Focuses on strong math skills</li>
      <li>Believes in fairness and numbers</li>
      <li>Every activity must be counted exactly 100 times</li>
    </ul>
    <button onclick="castVote('The Count')">Vote for The Count</button>
  </div>
</div>

<h2>Live Results</h2>
<canvas id="resultsChart"></canvas>

<div class="reset-container">
  <button id="resetBtn" onclick="resetVotes()">Reset Votes</button>
</div>

<!-- Toast container -->
<div id="toast"></div>

<script>
  // Votes and colors
  const votes = { "Bert": 0, "Ernie": 0, "The Count": 0 };
  const colors = { "Bert": "#ffb703", "Ernie": "#fb8500", "The Count": "#8e44ad" };
  const messages = {
    "Bert": "Pineapple on Pizza!? GROSS!",
    "Ernie": "There is NO WAY a hot dog is a sandwich.",
    "The Count": "Thanks for COUNTing on me! AH AH AH!"
  };

  // Chart setup with Data Labels plugin
  const ctx = document.getElementById('resultsChart').getContext('2d');
  const resultsChart = new Chart(ctx, {
    type: 'bar',
    data: {
      labels: Object.keys(votes),
      datasets: [{
        label: 'Votes',
        data: Object.values(votes),
        backgroundColor: Object.values(colors)
      }]
    },
    options: {
      plugins: {
        datalabels: {
          color: 'white',
          font: { weight: 'bold', size: 16 },
          formatter: function(value, context) {
            if (context.label === "The Count") return value + " (x2)";
            return value;
          }
        }
      },
      scales: {
        y: { beginAtZero: true, precision: 0 }
      }
    },
    plugins: [ChartDataLabels]
  });

  // Vote function
  function castVote(candidate) {
    if (candidate === "The Count") votes[candidate] += 2; // double vote
    else votes[candidate] += 1;
    resultsChart.data.datasets[0].data = Object.values(votes); // update chart
    resultsChart.update();
    showToast(messages[candidate], colors[candidate]);
  }

  // Reset votes
  function resetVotes() {
    if (confirm("Are you sure you want to reset all votes?")) {
      for (let candidate in votes) votes[candidate] = 0;
      resultsChart.data.datasets[0].data = Object.values(votes);
      resultsChart.update();
    }
  }

  // Toast popup
  function showToast(message, color) {
    const toast = document.getElementById("toast");
    toast.innerText = message;
    toast.style.backgroundColor = color;
    toast.className = "show";
    setTimeout(() => { toast.className = toast.className.replace("show",""); }, 5000); // 5 seconds
  }
</script>
</body>
</html>


